# Introduction

## GTKWave Overview

GTKWave is an analysis tool used to perform debugging on Verilog or VHDL
simulation models. With the exception of interactive VCD viewing, it is
not intended to be run interactively with simulation, but instead relies
on a post-mortem approach through the use of dumpfiles. Various dumpfile
formats are supported:

- VCD: Value Change Dump. This is an industry standard file format
  generated by most Verilog simulators and is specified in IEEE-1364.
  This is the slowest of the formats for the viewer to process and
  requires the most memory, however the format is ubiquitous and
  almost all tools support it, which is why native support remains.
  Note that recent versions of the viewer default to dynamic VCD
  recoding in memory through some interesting tricks with zlib
  compressed VLists. (See [VCD Recoding](vcd-recoding.md))
  This greatly reduces the amount of memory
  required to store a large, full (non-interactive) VCD trace in
  memory such that in many cases, less memory is required than the
  actual size of the trace itself. Nevertheless, using one of the
  database formats will almost always be more efficient for larger
  traces, especially if they are to be viewed repeatedly. (i.e., the
  speed hit for converting a trace to a database format is offset by
  the repeated cost of recoding VCD every time the trace is viewed.)
  The more physical memory that is available on a machine being used
  to view VCD, the better.
- LXT: InterLaced eXtensible Trace. This is an optimized format
  utilizing interleaved back pointers and value changes. Processing
  LXT files is faster than VCD. It was created specifically for use
  with GTKWave, however some other simulators (notably, Icarus
  Verilog) support it natively.
- LXT2: InterLaced eXtensible Trace Version 2. This is a block-based
  variant of LXT that allows for greater compression and access speeds
  than can be achieved with LXT. It allows random-access at the block
  level and also optionally allows partial loading of blocks for even
  faster operation. Icarus Verilog also supports LXT2 natively.
- VZT: Verilog Zipped Trace. This is an outgrowth of LXT2 as it is
  also block based, however it employs a different heuristic for
  compression that allows for file sizes much smaller than most other
  dumpfile formats including commercial ones. VZT file write
  performance is the slowest of all the formats, however reading them
  can be extremely fast on multiprocessor machines as the file format
  has been designed such that the reader was able to be parallelized.
- GHW: GHDL Wave file. This is a nine state ("01XZHUWL-") file format
  written by the VHDL simulator GHDL.
- AET2: All Events Trace Version 2. This is a format used by various
  IBM EDA tools. File size is very small and access is extremely fast.
  Support for it is determined at compile time. If the AET2 reader API
  libraries are not found, it is disabled. Users of IBM tool sets can
  set the environment variable SIMARAMA_BASE to point to the
  *libae2rw.a* and/or *libae2rw.so* files in order to enable this
  feature.
- IDX: VCD Recoder Index File. This format is written by GTKWave when
  instructed to generate fastload files.
- FST: Fast Signal Trace. This format is a block-based variant of IDX
  which is designed for very fast sequential and random access.
- VPD: VCD Plus Dump. This is generated by Synopsys VCS. In order to
  read these files, the executable *vpd2vcd* must be in your \$PATH
  during *configure* and *gtkwave* must be invoked with the -o option.
- WLF: Wave Log File. This is generated by ModelSim. In order to read
  these files, the executable *wlf2vcd* must be in your \$PATH during
  *configure* and *gtkwave* must be invoked with the -o option.
- FSDB: Fast Signal Database. Reading these files generally requires
  that the executables *fsdb2vcd* and *fsdbdebug* are in your \$PATH
  during *configure* and *gtkwave* must be invoked with the -o option.
  FSDB files can also be read without conversion with a processing
  speed similar to FST if the FsdbReader libraries nffr and nsys are
  found during *configure*, pointed to by the environment variable
  FSDBREADER_LIBS. Headers are pointed to by FSDBREADER_HDRS.

Converter helper applications are packaged with the viewer in order to
convert VCD files into LXT, LXT2, VZT, or FST files. Conversion from
LXT2, VZT, and FST back into VCD is possible. Wholesale conversion from
LXT is not currently possible, however it is possible to save the traces
visible in the main GTKWave window as VCD so conversion to LXT is not
strictly irreversible.

## Why Use GTKWave?

GTKWave has been developed to perform debug tasks on large systems on a
chip and has been used in this capacity as an offline replacement for
third-party debug tools. It is 64-bit clean and is ready for the largest
of designs given that it is run on a workstation with a sufficient
amount of physical memory. The file formats LXT2 and VZT have been
specifically designed to cope with large, real-world designs, and AET2
(available to IBM EDA tool users only) and FST have been designed to
handle extremely large designs efficiently.

For Verilog, GTKWave allows users to debug simulation results at both
the net level by providing a bird\'s eye view of multiple signal values
over varying periods of time and also at the RTL level through
annotation of signal values back into the RTL for a given timestep. The
RTL browser frees up users from needing to be concerned with the actual
location of where a given module resides in the RTL as the view provided
by the RTL browser defaults to the module level. This provides quick
access to modules in the RTL as navigation has been reduced simply to
moving up and down in a tree structure that represents the actual
design.

Source code annotation is currently not available for VHDL, however all
of GTKWave\'s other debug features are readily accessible. VHDL support
is planned for a future release.

## What Is GTKWave?

GTKWave as a collection of binaries is comprised of two interlocking
tools: the *gtkwave* viewer application and *rtlbrowse*. In addition, a
collection of helper applications are used to facilitate such tasks as
file conversions and simulation data mining. They are intended to
function together in a cohesive system although their modular design
allows each to function independently of the others if need be.

*gtkwave* is the waveform analyzer and is the primary tool used for
visualization. It provides a method for viewing simulation results for
both analog and digital data, allows for various search operations and
temporal manipulations, can save partial results (i.e., "signals of
interest") extracted from a full simulation dump, and finally can
generate PostScript and FrameMaker output for hard copy.

*rtlbrowse* is used to view and navigate through RTL source code that
has been parsed and processed into a stems file by the helper
application *xml2stems*. It allows for viewing of RTL at both the file
and module level and when invoked by *gtkwave*, allows for source code
annotation.

The helper applications perform various specialized tasks such as file
conversion, RTL parsing, and other data manipulation operations
considered outside of the scope of what a visualization tool needs to
perform.
